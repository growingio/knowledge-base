<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-sdk/sdk-performance/app-performance">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.20">
<link rel="alternate" type="application/rss+xml" href="/knowledge-base/blog/rss.xml" title="GrowingIO 知识库 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/knowledge-base/blog/atom.xml" title="GrowingIO 知识库 Atom Feed"><title data-rh="true">APP SDK 性能说明 | GrowingIO 知识库</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://growingio.github.io.com/knowledge-base/knowledge-base/docs/sdk/sdk-performance/app-performance"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="APP SDK 性能说明 | GrowingIO 知识库"><meta data-rh="true" name="description" content="支持性能说明文档下载：APP SDK性能说明PDF"><meta data-rh="true" property="og:description" content="支持性能说明文档下载：APP SDK性能说明PDF"><link data-rh="true" rel="icon" href="/knowledge-base/img/favicon.png"><link data-rh="true" rel="canonical" href="https://growingio.github.io.com/knowledge-base/knowledge-base/docs/sdk/sdk-performance/app-performance"><link data-rh="true" rel="alternate" href="https://growingio.github.io.com/knowledge-base/knowledge-base/docs/sdk/sdk-performance/app-performance" hreflang="en"><link data-rh="true" rel="alternate" href="https://growingio.github.io.com/knowledge-base/knowledge-base/docs/sdk/sdk-performance/app-performance" hreflang="x-default"><link rel="stylesheet" href="/knowledge-base/assets/css/styles.7bb0b809.css">
<link rel="preload" href="/knowledge-base/assets/js/runtime~main.5aac447d.js" as="script">
<link rel="preload" href="/knowledge-base/assets/js/main.da0956cc.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>

<script src="https://growingio.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/-dtzt95/b/3/c95134bc67d3a521bb3f4331beb9b804/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?jsI18nTransformer=existing&amp;locale=en-US&amp;collectorId=d067cced"></script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/knowledge-base/"><div class="navbar__logo"><img src="/knowledge-base/img/logo.svg" alt="GrowingIO Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/knowledge-base/img/logo_white.svg" alt="GrowingIO Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link navbar__link--active" href="/knowledge-base/docs">知识库</a><a class="navbar__item navbar__link" href="/knowledge-base/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://www.growingio.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">官网<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/growingio" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_dLyj"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_mKqt"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><div class="docPage_ualW"><aside class="theme-doc-sidebar-container docSidebarContainer_UQUJ"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/knowledge-base/docs">知识库</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/knowledge-base/docs/sdk">SDK</a><button aria-label="Toggle the collapsible sidebar category &#x27;SDK&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/knowledge-base/docs/basic">基础内容</a><button aria-label="Toggle the collapsible sidebar category &#x27;基础内容&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/knowledge-base/docs/android">Android SDK</a><button aria-label="Toggle the collapsible sidebar category &#x27;Android SDK&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/knowledge-base/docs/ios">iOS SDK</a><button aria-label="Toggle the collapsible sidebar category &#x27;iOS SDK&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/knowledge-base/docs/web">Web JS SDK</a><button aria-label="Toggle the collapsible sidebar category &#x27;Web JS SDK&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/knowledge-base/docs/minp">小程序 SDK</a><button aria-label="Toggle the collapsible sidebar category &#x27;小程序 SDK&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/knowledge-base/docs/other-sdk">第三方 SDK</a><button aria-label="Toggle the collapsible sidebar category &#x27;第三方 SDK&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/knowledge-base/docs/server">服务端 SDK</a><button aria-label="Toggle the collapsible sidebar category &#x27;服务端 SDK&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/knowledge-base/docs/sdk-performance">SDK 性能</a><button aria-label="Toggle the collapsible sidebar category &#x27;SDK 性能&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/knowledge-base/docs/sdk/sdk-performance/app-performance">APP SDK 性能说明</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/knowledge-base/docs/sdk/sdk-performance/web-performance">Web JS SDK 性能说明</a></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_uL0j"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/knowledge-base/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_kU5B"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/knowledge-base/docs/sdk"><span itemprop="name">SDK</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/knowledge-base/docs/sdk-performance"><span itemprop="name">SDK 性能</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">APP SDK 性能说明</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_bZGK theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_l22C">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>APP SDK 性能说明</h1></header><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</h5></div><div class="admonition-content"><p>支持性能说明文档下载：<a target="_blank" href="/knowledge-base/assets/files/APP SDK 性能说明-8cf9ec89a4b4baa04f9ed6973e7e501d.pdf">APP SDK性能说明PDF</a></p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="1测试概述">1.测试概述<a class="hash-link" href="#1测试概述" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="11-测试目的">1.1 测试目的<a class="hash-link" href="#11-测试目的" title="Direct link to heading">​</a></h3><p>本次测试从CPU、内存、冷启动耗时等维度，综合检测SDK性能指标。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="12-指标和术语">1.2 指标和术语<a class="hash-link" href="#12-指标和术语" title="Direct link to heading">​</a></h3><p>CPU 使用率，内存占用量 ，冷启动耗时 </p><h3 class="anchor anchorWithStickyNavbar_mojV" id="2设备和工具">2.设备和工具<a class="hash-link" href="#2设备和工具" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="设备">设备<a class="hash-link" href="#设备" title="Direct link to heading">​</a></h4><table><thead><tr><th align="center">Android</th><th align="center">iOS</th><th align="left">SDK 版本</th></tr></thead><tbody><tr><td align="center">华为 Nexus 6P- Android 7</td><td align="center">iPhone 6s -  iOS14.0</td><td align="left">3.2.0</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="工具">工具<a class="hash-link" href="#工具" title="Direct link to heading">​</a></h4><table><thead><tr><th align="center">工具</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">DoraemonKit</td><td align="center">统计冷启动耗时</td></tr><tr><td align="center">PerfDog</td><td align="center">统计 CPU， 内存</td></tr><tr><td align="center">cloc，Statistic</td><td align="center">统计代码行数</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_mojV" id="3测试方案">3.测试方案<a class="hash-link" href="#3测试方案" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="启动耗时">启动耗时<a class="hash-link" href="#启动耗时" title="Direct link to heading">​</a></h3><p>使用DoraemonKit 打点记录时间，检测集成/未集成 SDK 的 App，差异化分析后统计</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="cpu-使用率">CPU 使用率<a class="hash-link" href="#cpu-使用率" title="Direct link to heading">​</a></h3><p>使用 PerfDog 检测集成/未集成 SDK 的自动化 UI 测试的 App，差异化分析后统计</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="内存占用量">内存占用量<a class="hash-link" href="#内存占用量" title="Direct link to heading">​</a></h3><p>使用 PerfDog 检测集成/未集成 SDK 的自动化 UI 测试的 App，差异化分析后统计</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="包体积增量">包体积增量<a class="hash-link" href="#包体积增量" title="Direct link to heading">​</a></h3><p>使用新建 Demo 集成对应平台 SDK，并对比集成前后 App 体积，统计体积增量</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="4-测试结果">4. 测试结果<a class="hash-link" href="#4-测试结果" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="41-cpu">4.1 CPU<a class="hash-link" href="#41-cpu" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="ios">iOS<a class="hash-link" href="#ios" title="Direct link to heading">​</a></h4><ul><li>测试机型为 iPhone 6s，集成版本为 SDK 3.2.0</li><li>为减少检测环境对检测结果的影响，取多次检测后的平均值
经多次检测后对比，CPU 平均使用率的测试结果平均值由 13.2% 增加到 13.6%
<img loading="lazy" alt="cpu" src="/knowledge-base/assets/images/app-performance-593abea5102d83142dabc0e0ecab844b.png" width="1280" height="552" class="img_E7b_"></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="android">Android<a class="hash-link" href="#android" title="Direct link to heading">​</a></h4><ul><li>测试机型为 华为 Nexus 6P，低端机更有利于体现 CPU 使用率的波动
应用的 CPU 由 13.1% 增加到 13.8%
<img loading="lazy" alt="cpu" src="/knowledge-base/assets/images/app-performance-1-462ac229fd85e0f9020b9a1a5ffdbdbf.png" width="1280" height="535" class="img_E7b_"></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="结论">结论<a class="hash-link" href="#结论" title="Direct link to heading">​</a></h4><p>经过比对集成 SDK 和未集成 SDK 在高频使用下可知，CPU 使用率基本没有较大差别。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="42-内存">4.2 内存<a class="hash-link" href="#42-内存" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="ios-1">iOS<a class="hash-link" href="#ios-1" title="Direct link to heading">​</a></h4><ul><li>测试机型为 iPhone 6s，集成版本为 SDK 3.2.0</li><li>为减少检测环境对检测结果的影响，取多次检测后的平均值
经多次检测后对比，平均内存占用量的测试结果平均值由 94.7 MB 增加到 97.3 MB，峰值内存占用量的测试结果平均值由 149.9 MB 增加到 156.4 MB，符合对外指标
<img loading="lazy" alt="cpu" src="/knowledge-base/assets/images/app-performance-2-e81ef5181e13e5862cfa19ce17de47c5.png" width="1280" height="557" class="img_E7b_"></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="android-1">Android<a class="hash-link" href="#android-1" title="Direct link to heading">​</a></h4><ul><li>测试机型为 华为 Nexus 6P</li><li>为减少检测环境对检测结果的影响，取多次检测后的平均值
经多次检测后对比，平均内存占用量的测试结果平均值由 349 MB 增加到 351 MB，峰值内存占用量的测试结果平均值由 504 MB 增加到 507 MB
<img loading="lazy" alt="cpu" src="/knowledge-base/assets/images/app-performance-3-5a3bef5a776193507dbcb1a4d6ebe257.png" width="1120" height="509" class="img_E7b_"></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="结论-1">结论<a class="hash-link" href="#结论-1" title="Direct link to heading">​</a></h4><p>经检测无内存泄漏，内存占用均值在 10 MB 以内。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="43-冷启动耗时">4.3 冷启动耗时<a class="hash-link" href="#43-冷启动耗时" title="Direct link to heading">​</a></h3><table><thead><tr><th align="center">SDK 3.0</th><th align="left">DoraemonKit -&gt; 启动耗时（单位：ms）</th></tr></thead><tbody><tr><td align="center">iOS</td><td align="left">4.8 - 6.2</td></tr><tr><td align="center">Android</td><td align="left">15 - 17</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="ios-doraemonkit-sdk-初始化耗时检测">iOS DoraemonKit SDK 初始化耗时检测<a class="hash-link" href="#ios-doraemonkit-sdk-初始化耗时检测" title="Direct link to heading">​</a></h4><div class="language-txt codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-txt codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain"> 1|   5.24|   +[GrowingAutotracker startWithConfiguration:launchOptions:]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2|   5.21|     +[GrowingRealAutotracker trackerWithConfiguration:launchOptions:]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 3|   5.21|       -[GrowingRealAutotracker initWithConfiguration:launchOptions:]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 4|   1.50|         -[GrowingRealAutotracker addAutoTrackSwizzles]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 4|   1.98|         +[GrowingSession startSession]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 5|   1.96|           -[GrowingSession initWithSessionInterval:]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 6|   1.94|             -[GrowingPersistenceDataProvider loginUserId]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 7|   1.90|               -[NSUserDefaults valueForKey:]</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="android-doraemonkit-sdk-初始化耗时检测">Android DoraemonKit SDK 初始化耗时检测<a class="hash-link" href="#android-doraemonkit-sdk-初始化耗时检测" title="Direct link to heading">​</a></h4><div class="language-txt codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-txt codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">2021-07-22 10:48:14.909 13702-13702/com.example.myapplication100 I/DOKIT_SLOW_METHOD: =========DoKit函数调用栈==========</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    level    time    function</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Application OnCreate 函数总耗时</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    0********89ms********com.example.myapplication.CustomApplication&amp;onCreate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Doraemonkit 初始化函数耗时</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1********56ms*************com.didichuxing.doraemonkit.DoKit$Builder&amp;build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2********55ms*****************com.didichuxing.doraemonkit.DoKitReal&amp;install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3********2ms*********************com.didichuxing.doraemonkit.DoKitReal&amp;initThirdLibraryInfo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3********4ms*********************com.didichuxing.doraemonkit.DoKitReal&amp;initAndroidUtil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3********3ms*********************com.didichuxing.doraemonkit.DoKitReal&amp;registerNetworkStatusChangedListener</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3********2ms*********************kotlinx.coroutines.BuildersKt&amp;launch$default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    4********2ms*************************kotlinx.coroutines.BuildersKt__Builders_commonKt&amp;launch$default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5********2ms*****************************kotlinx.coroutines.BuildersKt&amp;launch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 以下为 SDK 初始化函数耗时</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1********17ms*************com.growingio.android.sdk.autotrack.GrowingAutotracker&amp;startWithConfiguration</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="44-包体积增量">4.4 包体积增量<a class="hash-link" href="#44-包体积增量" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="代码行数检测工具">代码行数检测工具<a class="hash-link" href="#代码行数检测工具" title="Direct link to heading">​</a></h4><ul><li>iOS代码行数使用 cloc 工具，仅统计 code，不含空行与注释</li><li>Android 代码行数使用 Statistic 插件进行统计，主要统计 Java 代码以及 Koltin 代码行数</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="检测数据">检测数据<a class="hash-link" href="#检测数据" title="Direct link to heading">​</a></h4><p>以下App体积大小为 Finder → 显示简介获取到的安装包大小</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="ios-2">iOS<a class="hash-link" href="#ios-2" title="Direct link to heading">​</a></h4><blockquote><p>Demo 工程编译后 App 体积原大小 119 KB (119,229 Bytes)，仅 ARM 64</p></blockquote><table><thead><tr><th align="center">SDK</th><th align="left">集成方式</th><th align="center">App 体积大小</th><th align="center">体积增量</th><th align="center">SDK 代码行数</th></tr></thead><tbody><tr><td align="center">SDK 2.0 SaaS 埋点</td><td align="left">pod &#x27;GrowingCoreKit&#x27;, &#x27;2.9.3&#x27;</td><td align="center">2.3 MB (2,334,397 Bytes)</td><td align="center">2.2 MB (2,215,168 Bytes)</td><td align="center">28,764</td></tr><tr><td align="center">SDK 2.0 SaaS 无埋点</td><td align="left">pod &#x27;GrowingAutoTrackKit&#x27;, &#x27;2.9.3&#x27;</td><td align="center">3.8 MB (3,770,301 Bytes)</td><td align="center">3.7 MB (3,651,072 Bytes)</td><td align="center">47,407 (18,643 + 28,764)</td></tr><tr><td align="center">SDK 3.0 无埋点</td><td align="left">pod &#x27;GrowingAnalytics&#x27;, &#x27;3.2.0&#x27;</td><td align="center">1.7 MB (1,674,389 Bytes)</td><td align="center">1.6 MB (1,555,160 Bytes)</td><td align="center">16,757</td></tr><tr><td align="center">SDK 3.0 CDP</td><td align="left">pod &#x27;GrowingAnalytics-cdp/Autotracker&#x27;, &#x27;3.2.0&#x27;</td><td align="center">1.8 MB (1,816,245 Bytes)</td><td align="center">1.7 MB (1,697,016 Bytes)</td><td align="center">16,972 (215 + 16,757)</td></tr><tr><td align="center">SDK 3.0 CDP（从 2.0 升级）</td><td align="left">pod &#x27;GrowingAnalytics-cdp/Autotracker&#x27;, &#x27;3.2.0&#x27;<br>pod &#x27;GrowingAnalytics-upgrade/Autotracker-upgrade-2to3-cdp&#x27;, &#x27;1.1.1&#x27;</td><td align="center">2.4 MB (2,435,069 Bytes)</td><td align="center">2.3 MB (2,315,840 Bytes)</td><td align="center">24,169 (7,197 + 215 + 16,757)</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="android-2">Android<a class="hash-link" href="#android-2" title="Direct link to heading">​</a></h4><blockquote><p>Demo 工程编译后 APK 体积原大小 2.9 MB (2,866,411 Bytes)</p></blockquote><table><thead><tr><th align="center">SDK</th><th align="left">集成方式</th><th align="center">App 体积大小</th><th align="center">体积增量</th><th align="center">SDK 代码行数</th></tr></thead><tbody><tr><td align="center">SDK 2.0 SaaS 埋点</td><td align="left">implementation &#x27;com.growingio.android:vds-android-agent:track-2.9.3&#x27;</td><td align="center">3.1 MB (3,074,690 Bytes)</td><td align="center">0.2 MB (208,279 Bytes)</td><td align="center">22,328</td></tr><tr><td align="center">SDK 2.0 SaaS 无埋点</td><td align="left">implementation &#x27;com.growingio.android:vds-android-agent:autotrack-2.9.3&#x27;classpath &#x27;com.growingio.android:vds-gradle-plugin:autotrack-2.9.3&#x27;</td><td align="center">3.1 MB (3,142,131 Bytes)</td><td align="center">0.3 MB (275,720 Bytes)</td><td align="center">52,999 (30,671 + 22,328)</td></tr><tr><td align="center">SDK 3.0 无埋点</td><td align="left">implementation &#x27;com.growingio.android:autotracker:3.2.0&#x27;classpath &#x27;com.growingio.android:autotracker-gradle-plugin:3.2.0&#x27;</td><td align="center">3.2 MB (3,188,374 Bytes)</td><td align="center">0.3 MB (321,963 Bytes)</td><td align="center">31,912</td></tr><tr><td align="center">SDK 3.0 CDP</td><td align="left">implementation &#x27;com.growingio.android:autotracker-cdp:3.1.0&#x27;classpath &#x27;com.growingio.android:autotracker-gradle-plugin:3.1.0&#x27;</td><td align="center">3.2 MB (3,189,509 Bytes)</td><td align="center">0.3 MB (323,098 Bytes)</td><td align="center">33,457（31,921 + 1,545） 注：android SDK 3.0 无埋点与CDP 在版本号3.2.0之后统一为无埋点版本，CDP版本最后的版本为3.1.0</td></tr><tr><td align="center">SDK 3.0 CDP（从 2.0 升级）</td><td align="left">implementation &#x27;com.growingio.android:autotracker-cdp:3.2.0&#x27;implementation &#x27;com.growingio.android.sdk.upgrade:autotracker-upgrade-2to3-cdp:1.0.0&#x27;classpath &#x27;com.growingio.android:autotracker-gradle-plugin:3.2.0&#x27;</td><td align="center">3.2 MB (3,191,344 Bytes)</td><td align="center">0.3 MB (324,933 Bytes)</td><td align="center">32,340 (31,912 + 428)</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="结论-2">结论<a class="hash-link" href="#结论-2" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithStickyNavbar_mojV" id="ios-3">iOS<a class="hash-link" href="#ios-3" title="Direct link to heading">​</a></h5><p>SDK 3.0 (CDP) 体积增量为 1.7 MB，SDK 2.0 (SaaS 无埋点) 体积增量为 3.7 MB，SDK 2.0 (SaaS 埋点) 体积增量为 2.2 MB</p><h5 class="anchor anchorWithStickyNavbar_mojV" id="android-3">Android<a class="hash-link" href="#android-3" title="Direct link to heading">​</a></h5><p>SDK 3.0 (CDP) 体积增量为 0.3 MB，SDK 2.0 (SaaS 无埋点) 体积增量为 0.3 MB，SDK 2.0 (SaaS 埋点) 体积增量为 0.2 MB</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="5-总结">5. 总结<a class="hash-link" href="#5-总结" title="Direct link to heading">​</a></h2><p>经过对 SDK 的多次测试和数据报表分析，可以得出如下结论：</p><ol><li>CPU 使用率保持在 5% 以下 ，对CPU使用无明显影响。</li><li>无内存泄漏，内存占用均值在 10 MB 以内，对内存占用无明显影响。</li><li>冷启动耗时占用较少， 对app冷启动无明显影响。</li></ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/knowledge-base/docs/sdk-performance"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">SDK 性能</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/knowledge-base/docs/sdk/sdk-performance/web-performance"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Web JS SDK 性能说明</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1测试概述" class="table-of-contents__link toc-highlight">1.测试概述</a><ul><li><a href="#11-测试目的" class="table-of-contents__link toc-highlight">1.1 测试目的</a></li><li><a href="#12-指标和术语" class="table-of-contents__link toc-highlight">1.2 指标和术语</a></li><li><a href="#2设备和工具" class="table-of-contents__link toc-highlight">2.设备和工具</a></li></ul></li><li><a href="#3测试方案" class="table-of-contents__link toc-highlight">3.测试方案</a><ul><li><a href="#启动耗时" class="table-of-contents__link toc-highlight">启动耗时</a></li><li><a href="#cpu-使用率" class="table-of-contents__link toc-highlight">CPU 使用率</a></li><li><a href="#内存占用量" class="table-of-contents__link toc-highlight">内存占用量</a></li><li><a href="#包体积增量" class="table-of-contents__link toc-highlight">包体积增量</a></li></ul></li><li><a href="#4-测试结果" class="table-of-contents__link toc-highlight">4. 测试结果</a><ul><li><a href="#41-cpu" class="table-of-contents__link toc-highlight">4.1 CPU</a></li><li><a href="#42-内存" class="table-of-contents__link toc-highlight">4.2 内存</a></li><li><a href="#43-冷启动耗时" class="table-of-contents__link toc-highlight">4.3 冷启动耗时</a></li><li><a href="#44-包体积增量" class="table-of-contents__link toc-highlight">4.4 包体积增量</a></li></ul></li><li><a href="#5-总结" class="table-of-contents__link toc-highlight">5. 总结</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/knowledge-base/docs">知识库</a></li></ul></div><div class="col footer__col"><div class="footer__title">SDK</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/growingio/growingio-sdk-android-autotracker" target="_blank" rel="noopener noreferrer" class="footer__link-item">Android<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/growingio/growingio-sdk-ios-autotracker" target="_blank" rel="noopener noreferrer" class="footer__link-item">iOS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/growingio/growingio-sdk-js-autotracker" target="_blank" rel="noopener noreferrer" class="footer__link-item">Web<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.growingio.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">官网<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/knowledge-base/blog">博客</a></li><li class="footer__item"><a href="https://github.com/growingio" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 北京易数科技有限公司 -- Built with Docusaurus.</div></div></div></footer></div>
<script src="/knowledge-base/assets/js/runtime~main.5aac447d.js"></script>
<script src="/knowledge-base/assets/js/main.da0956cc.js"></script>
</body>
</html>